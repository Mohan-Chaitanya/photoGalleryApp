(this["webpackJsonpphoto-gallery"]=this["webpackJsonpphoto-gallery"]||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),r=c(15),s=c.n(r),i=(c(22),c(7)),l=(c(23),c(2)),o=function(){return Object(l.jsxs)("div",{className:"title",children:[Object(l.jsx)("h1",{children:"GreenGram!!!"}),Object(l.jsx)("h2",{children:"Greeeeen Pics"}),Object(l.jsx)("p",{children:"Misssing these now a days?"})]})},u=c(12),d=c.n(u),j=c(16),f=c(10);c(28),c(29);f.a.initializeApp({apiKey:"AIzaSyAKAsXVXX4HXHOD3649tQREA5HBGtN9dyk",authDomain:"react-photogallery-5fec1.firebaseapp.com",projectId:"react-photogallery-5fec1",storageBucket:"react-photogallery-5fec1.appspot.com",messagingSenderId:"28540600360",appId:"1:28540600360:web:493e142f883312dc3a751d"});var b=f.a.storage(),p=f.a.firestore(),g=f.a.firestore.FieldValue.serverTimestamp(),O=function(e){var t=Object(n.useState)(0),c=Object(i.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(null),l=Object(i.a)(s,2),o=l[0],u=l[1],f=Object(n.useState)(null),O=Object(i.a)(f,2),h=O[0],m=O[1];return Object(n.useEffect)((function(){var t=b.ref(e.name),c=p.collection("images");t.put(e).on("state_change",(function(e){var t=e.bytesTransferred/e.totalBytes*100;r(t)}),(function(e){u(e)}),Object(j.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,m(n),a=g,c.add({url:n,createdAt:a});case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:a,error:o,url:h}},h=function(e){var t=e.file,c=e.setFile,a=O(t),r=a.url,s=a.progress;return Object(n.useEffect)((function(){r&&c(null)}),[r]),Object(l.jsxs)("div",{children:[Math.round(s),"%"]})},m=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(null),s=Object(i.a)(r,2),o=s[0],u=s[1],d=["image/jpeg","image/png"];return Object(l.jsxs)("form",{className:"fileUpload",children:[Object(l.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&d.includes(t.type)?(u(""),a(t),console.log(t)):(a(null),u("Select an image file type like JPEG/PNG"))},id:"fileInput"}),Object(l.jsxs)("label",{for:"fileInput",id:"uploadBtn",children:[Object(l.jsxs)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{"fill-rule":"evenodd",d:"M.5 8a.5.5 0 01.5.5V12a1 1 0 001 1h12a1 1 0 001-1V8.5a.5.5 0 011 0V12a2 2 0 01-2 2H2a2 2 0 01-2-2V8.5A.5.5 0 01.5 8zM5 4.854a.5.5 0 00.707 0L8 2.56l2.293 2.293A.5.5 0 1011 4.146L8.354 1.5a.5.5 0 00-.708 0L5 4.146a.5.5 0 000 .708z","clip-rule":"evenodd"}),Object(l.jsx)("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 01.5.5v8a.5.5 0 01-1 0v-8A.5.5 0 018 2z","clip-rule":"evenodd"})]}),"UploadFile"]}),Object(l.jsxs)("div",{className:"output",children:[o&&Object(l.jsx)("div",{className:"error",children:o}),c&&Object(l.jsx)(h,{file:c,setFile:a})]})]})},v=c(13),x=function(e){var t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){var t=p.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(v.a)(Object(v.a)({},e.data()),{},{id:e.id}))})),r(t)}));return function(){return t()}}),[e]),{docs:a}},S=function(e){var t=e.setSelectedImg,c=x("images").docs;return console.log(c),Object(l.jsx)("div",{className:"img-grid",children:c&&c.map((function(e){return Object(l.jsx)("div",{className:"img-wrap",onClick:function(){t(e.url)},children:Object(l.jsx)("img",{src:e.url,alt:""})},e.id)}))})},y=function(e){var t=e.seletedImg,c=e.setSelectedImg;return Object(l.jsx)("div",{className:"backDrop",onClick:function(e){e.target.classList.contains("backDrop")&&c(null)},children:Object(l.jsx)("img",{src:t,alt:"bigPic"})})};var w=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(o,{}),Object(l.jsx)(m,{}),Object(l.jsx)(S,{setSelectedImg:a}),c&&Object(l.jsx)(y,{seletedImg:c,setSelectedImg:a})]})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,30)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root")),I()}},[[27,1,2]]]);
//# sourceMappingURL=main.3a7bf81f.chunk.js.map