(this["webpackJsonpphoto-gallery"]=this["webpackJsonpphoto-gallery"]||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),r=c(15),s=c.n(r),i=(c(22),c(7)),l=(c(23),c(2)),o=function(){return Object(l.jsxs)("div",{className:"title",children:[Object(l.jsx)("h1",{children:"GreenGram!!!"}),Object(l.jsx)("h2",{children:"Greeeeen Pics"}),Object(l.jsx)("p",{children:"Misssing these now a days?"})]})},u=c(12),j=c.n(u),d=c(16),f=c(10);c(28),c(29);f.a.initializeApp({apiKey:"AIzaSyAKAsXVXX4HXHOD3649tQREA5HBGtN9dyk",authDomain:"react-photogallery-5fec1.firebaseapp.com",projectId:"react-photogallery-5fec1",storageBucket:"react-photogallery-5fec1.appspot.com",messagingSenderId:"28540600360",appId:"1:28540600360:web:493e142f883312dc3a751d"});var b=f.a.storage(),p=f.a.firestore(),g=f.a.firestore.FieldValue.serverTimestamp(),O=function(e){var t=Object(n.useState)(0),c=Object(i.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(null),l=Object(i.a)(s,2),o=l[0],u=l[1],f=Object(n.useState)(null),O=Object(i.a)(f,2),m=O[0],h=O[1];return Object(n.useEffect)((function(){var t=b.ref(e.name),c=p.collection("images");t.put(e).on("state_change",(function(e){var t=e.bytesTransferred/e.totalBytes*100;r(t)}),(function(e){u(e)}),Object(d.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,h(n),a=g,c.add({url:n,createdAt:a});case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:a,error:o,url:m}},m=function(e){var t=e.file,c=e.setFile,a=O(t),r=a.url,s=a.progress;return Object(n.useEffect)((function(){r&&c(null)}),[r]),Object(l.jsxs)("div",{children:[Math.round(s),"%"]})},h=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(null),s=Object(i.a)(r,2),o=s[0],u=s[1],j=["image/jpeg","image/png"];return Object(l.jsxs)("form",{className:"fileUpload",children:[Object(l.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&j.includes(t.type)?(u(""),a(t),console.log(t)):(a(null),u("Select an image file type like JPEG/PNG"))},className:"fileInput"}),Object(l.jsxs)("div",{className:"output",children:[o&&Object(l.jsx)("div",{className:"error",children:o}),c&&Object(l.jsx)(m,{file:c,setFile:a})]})]})},v=c(13),x=function(e){var t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){var t=p.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(v.a)(Object(v.a)({},e.data()),{},{id:e.id}))})),r(t)}));return function(){return t()}}),[e]),{docs:a}},S=function(e){var t=e.setSelectedImg,c=x("images").docs;return console.log(c),Object(l.jsx)("div",{className:"img-grid",children:c&&c.map((function(e){return Object(l.jsx)("div",{className:"img-wrap",onClick:function(){t(e.url)},children:Object(l.jsx)("img",{src:e.url,alt:""})},e.id)}))})},y=function(e){var t=e.seletedImg,c=e.setSelectedImg;return Object(l.jsx)("div",{className:"backDrop",onClick:function(e){e.target.classList.contains("backDrop")&&c(null)},children:Object(l.jsx)("img",{src:t,alt:"bigPic"})})};var I=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(o,{}),Object(l.jsx)(h,{}),Object(l.jsx)(S,{setSelectedImg:a}),c&&Object(l.jsx)(y,{seletedImg:c,setSelectedImg:a})]})},N=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,30)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(I,{})}),document.getElementById("root")),N()}},[[27,1,2]]]);
//# sourceMappingURL=main.e3dc7619.chunk.js.map